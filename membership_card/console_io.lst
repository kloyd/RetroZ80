                        ; Trying some I/O with the Z80 MC

      = 13E8            PUT_CHAR        EQU     13E8h
      = 1382            SET_IO  EQU     1382h
8000                            ORG     8000h   ; RAM Start
8000  CD 8213                   CALL    SET_IO  ; Set I/O system
8003  CD 2680                   CALL    CRLF    ; Issue CR and LF.

8006  21 1880                   LD      HL, MESG
8009  7E                OUTS    LD      A,(HL)
800A  28 06                     JR      Z,DONE
800C  CD E813                   CALL    PUT_CHAR
800F  23                        INC     HL
8010  18 F7                     JR      OUTS
8012  CD 2680           DONE    CALL    CRLF

8015  C3 1580           LOOP    JP     LOOP            ; forever

8018  48656C6C 6F2C2077 MESG    DB 'Hello, world!',0
8020  6F726C64 2100

8026  F5                CRLF    PUSH AF
8027  3E 0A                     LD A,0Ah
8029  CD E813                   CALL PUT_CHAR
802C  3E 0D                     LD A,0Dh
802E  CD E813                   CALL PUT_CHAR
8031  F1                        POP AF
8032  C9                        RET

8033                            END

CRLF               8026    DONE               8012    LOOP               8015
MESG               8018    OUTS               8009    PUT_CHAR           13E8 E
SET_IO             1382 E
