                        ; Trying some I/O with the Z80 MC

      = 13E8            PUT_CHAR        EQU     13E8h
      = 1382            SET_IO  EQU     1382h
8000                            ORG     8000h   ; RAM Start
8000  CD 8213                   CALL    SET_IO  ; Set I/O system
8003  CD 2880                   CALL    CRLF    ; Issue CR and LF.

8006  21 1A80                   LD      HL, MESG
8009  7E                OUTS    LD      A,(HL)
800A  FE 00                     CP      0
800C  28 06                     JR      Z,DONE
800E  CD E813                   CALL    PUT_CHAR
8011  23                        INC     HL
8012  18 F5                     JR      OUTS
8014  CD 2880           DONE    CALL    CRLF

8017  C3 1780           LOOP    JP     LOOP            ; forever

801A  48656C6C 6F2C2077 MESG    DB 'Hello, world!',0
8022  6F726C64 2100

8028  F5                CRLF    PUSH AF
8029  3E 0A                     LD A,0Ah
802B  CD E813                   CALL PUT_CHAR
802E  3E 0D                     LD A,0Dh
8030  CD E813                   CALL PUT_CHAR
8033  F1                        POP AF
8034  C9                        RET

8035                            END

CRLF               8028    DONE               8014    LOOP               8017
MESG               801A    OUTS               8009    PUT_CHAR           13E8 E
SET_IO             1382 E
